" luckys-lnz vim config

" Initialize vim-plug
call plug#begin('~/.vim/plugged')

" Gruvbox theme and Airline
Plug 'morhetz/gruvbox'
Plug 'vim-airline/vim-airline'
Plug 'vim-airline/vim-airline-themes'

" LSP and completion
Plug 'neovim/nvim-lspconfig'
Plug 'hrsh7th/nvim-compe'

" Treesitter for better syntax highlighting
Plug 'nvim-treesitter/nvim-treesitter', {'do': ':TSUpdate'}

" Python development
Plug 'psf/black', { 'branch': 'stable' }

" C development
Plug 'vim-syntastic/syntastic'

" Web development
Plug 'mattn/emmet-vim'
Plug 'pangloss/vim-javascript'
Plug 'maxmellon/vim-jsx-pretty'
Plug 'leafgarland/typescript-vim'
Plug 'peitalin/vim-jsx-typescript'

" Other useful plugins
Plug 'tpope/vim-fugitive'
Plug 'scrooloose/nerdtree'
Plug 'junegunn/fzf', { 'do': { -> fzf#install() } }
Plug 'junegunn/fzf.vim'

call plug#end()

" Set theme to Gruvbox
syntax enable
set background=dark
colorscheme gruvbox

" Configure Airline
let g:airline_theme='gruvbox'

" Enable clipboard integration
set clipboard=unnamedplus

" Enable line numbers and relative line numbers
set number
set relativenumber

" Enable syntax highlighting
syntax on

" Python-specific settings
autocmd FileType python setlocal tabstop=4 shiftwidth=4 expandtab
autocmd BufWritePre *.py execute ':Black'

" C-specific settings
autocmd FileType c setlocal tabstop=4 shiftwidth=4 expandtab
autocmd BufWritePost *.c silent! !gcc % -o %< && ./%<

" JavaScript and TypeScript settings
autocmd FileType javascript,typescript,jsx,tsx setlocal tabstop=2 shiftwidth=2 expandtab

" NERDTree configuration
map <C-n> :NERDTreeToggle<CR>

" FZF configuration
set rtp+=~/.fzf
let g:fzf_command_prefix = 'Fzf'
nnoremap <leader>f :Files<CR>
nnoremap <leader>b :Buffers<CR>
nnoremap <leader>r :Rg<CR>

" LSP settings
lua << EOF
require'lspconfig'.pyright.setup{}
require'lspconfig'.tsserver.setup{}
require'lspconfig'.clangd.setup{}
EOF

" Completion settings
set completeopt=menuone,noinsert,noselect
lua << EOF
require'compe'.setup {
  enabled = true;
  autocomplete = true;
  debug = false;
  min_length = 1;
  preselect = 'enable';
  throttle_time = 80;
  source_timeout = 200;
  incomplete_delay = 400;
  max_abbr_width = 100;
  max_kind_width = 100;
  max_menu_width = 100;
  documentation = true;

  source = {
    path = true;
    buffer = true;
    calc = true;
    nvim_lsp = true;
    nvim_lua = true;
    vsnip = true;
  };
}
EOF

"The above ^ part works perfectly for me
" -----------------mixed setup---------------
" this part is kind of a reference i just come and pick stuff at random when needed


